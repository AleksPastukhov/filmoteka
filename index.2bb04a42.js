!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=r.parcelRequired76b;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var r=s[e];delete s[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){s[e]=r},r.parcelRequired76b=n),n("iE7OH").register(JSON.parse('{"EVgbq":"index.2bb04a42.js","3mDlJ":"movie-poster-coming-soon.0dfc56a4.jpg","3mEuC":"library.b4861dd8.css","fEwsi":"library.571e0503.js"}')),n("go4aK"),n("kvC6y"),n("x2KWZ");var a,l=n("8Mjv6");a=n("aNJCr").getBundleURL("EVgbq")+n("iE7OH").resolve("3mDlJ");var i=n("x2KWZ"),o=n("twtVq"),c=n("a0r2h");const d=document.querySelector(".cards__list");function u(r){const t=(0,i.getDataFromLocalStorage)(o.DATA_STORAGE),s=r.map((({poster_path:r,title:s,genre_ids:n,id:l,release_date:i,vote_average:o})=>`<li class="library__item" id="${l}">\n        \n        <a href="" class="library__link"><div class="library__thumb">\n      <img class="library__image" \nsrc="${r?`https://image.tmdb.org/t/p/w500${r}`:e(a)}"  alt="${s}" />\n    </div>\n    <div class="library__paragraph">\n    <h2 class="library__movie">${s}</h2>\n    <ul class="library__info">\n      <li class="library__description">\n        <p class="library__genres">${0===n.length?"No genre":(0,c.getGenresFromId)(n,t)} |</p>\n      </li>\n      <li class="library__description">\n        <p class="library__year">${""!==i&&i?i.slice(0,4):"No date"}</p>\n      </li>\n      <li class="library__description">\n        <p class="library__rating">${o.toFixed(1)}</p>\n      </li>\n    </ul>\n    </div></a>\n    \n</li>`)).join("");d.innerHTML=s}var _=n("1VFfL"),g=n("kvC6y");i=n("x2KWZ");const p="films-data",v=new(0,g.Spinner)(".spinner"),m=document.querySelector("#pagination"),f=new(0,l.default),b=document.querySelector(".form__input"),y=document.querySelector(".search__error-text");b.addEventListener("submit",(function(r){r.preventDefault();let t=1;const s=r.currentTarget.searchQuery.value;if(v.addSpinner(),!s)return y.classList.remove("visually-hidden"),setTimeout((()=>{y.classList.add("visually-hidden")}),4500),void v.removeSpinner();f.getFilms("search",t,s).then((r=>{if(0===r.results.length)return y.classList.remove("visually-hidden"),setTimeout((()=>{y.classList.add("visually-hidden")}),4500),void v.removeSpinner();(0,i.saveDataToLocalStorage)(p,r.results),u(r.results),v.removeSpinner();const n=new(e(_))(m,{totalItems:`${r.total_results}`,itemsPerPage:20,visiblePages:5,centerAlign:!0});n.reset(r.total_results),n.on("beforeMove",(e=>{v.addSpinner(),t=e.page,f.getFilms("search",t,s).then((e=>{e.results&&(u(e.results),(0,i.saveDataToLocalStorage)(p,e.results),window.scrollTo({behavior:"smooth",top:0}),v.removeSpinner())}))}))})).catch((e=>console.log(e))).finally(b.reset())}));_=n("1VFfL"),l=n("8Mjv6"),o=n("twtVq"),g=n("kvC6y"),i=n("x2KWZ");n("2ViF8");const h="films-data",S=new(0,g.Spinner)(".spinner"),w=document.querySelector("#pagination"),T=new(0,l.default);document.querySelector(".library-page");(0,o.saveGenresToLocalStorage)(),setTimeout((()=>{!async function(){await T.getFilms("trends").then((r=>{if(!r.results)return;(0,i.saveDataToLocalStorage)(h,r.results),u(r.results);const t=new(e(_))(w,{totalItems:`${r.total_results}`,itemsPerPage:20,visiblePages:5,centerAlign:!0});t.reset(r.total_results),t.on("beforeMove",(e=>{S.addSpinner();let r=e.page;T.getFilms("trends",r).then((e=>{e.results&&((0,i.saveDataToLocalStorage)(h,e.results),u(e.results),window.scrollTo({behavior:"smooth",top:0}),S.removeSpinner())}))}))})).catch((e=>console.log(e))).finally()}()}),0),n("lWSuo"),n("ivF4K"),n("cDXQO"),n("5xtVg"),n("civ12"),n("aH2sr"),n("32ZrB")}();
//# sourceMappingURL=index.2bb04a42.js.map
