function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=r.parcelRequired76b;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var r=s[e];delete s[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){s[e]=r},r.parcelRequired76b=n),n("kyEFX").register(JSON.parse('{"5ZPII":"index.5cdb7423.js","5mK0W":"movie-poster-coming-soon.0dfc56a4.jpg","3mEuC":"library.b4861dd8.css","iAzvU":"library.49421b5b.js"}')),n("dyJsF"),n("gjiCh"),n("iL99u");var a,i=n("cQLOM");a=new URL(n("kyEFX").resolve("5mK0W"),import.meta.url).toString();var l=n("iL99u"),o=n("ezyJp"),d=n("gVtWp");const c=document.querySelector(".cards__list");function u(r){const t=(0,l.getDataFromLocalStorage)(o.DATA_STORAGE),s=r.map((({poster_path:r,title:s,genre_ids:n,id:i,release_date:l,vote_average:o})=>`<li class="library__item" id="${i}">\n        \n        <a href="" class="library__link"><div class="library__thumb">\n      <img class="library__image" \nsrc="${r?`https://image.tmdb.org/t/p/w500${r}`:e(a)}"  alt="${s}" />\n    </div>\n    <div class="library__paragraph">\n    <h2 class="library__movie">${s}</h2>\n    <ul class="library__info">\n      <li class="library__description">\n        <p class="library__genres">${0===n.length?"No genre":(0,d.getGenresFromId)(n,t)} |</p>\n      </li>\n      <li class="library__description">\n        <p class="library__year">${""!==l&&l?l.slice(0,4):"No date"}</p>\n      </li>\n      <li class="library__description">\n        <p class="library__rating">${o.toFixed(1)}</p>\n      </li>\n    </ul>\n    </div></a>\n    \n</li>`)).join("");c.innerHTML=s}var p=n("fb9GJ"),_=n("gjiCh");l=n("iL99u");const g="films-data",m=new(0,_.Spinner)(".spinner"),v=document.querySelector("#pagination"),y=new(0,i.default),f=document.querySelector(".form__input"),b=document.querySelector(".search__error-text");f.addEventListener("submit",(function(r){r.preventDefault();let t=1;const s=r.currentTarget.searchQuery.value;if(m.addSpinner(),!s)return b.classList.remove("visually-hidden"),setTimeout((()=>{b.classList.add("visually-hidden")}),4500),void m.removeSpinner();y.getFilms("search",t,s).then((r=>{if(0===r.results.length)return b.classList.remove("visually-hidden"),setTimeout((()=>{b.classList.add("visually-hidden")}),4500),void m.removeSpinner();(0,l.saveDataToLocalStorage)(g,r.results),u(r.results),m.removeSpinner();const n=new(e(p))(v,{totalItems:`${r.total_results}`,itemsPerPage:20,visiblePages:5,centerAlign:!0});n.reset(r.total_results),n.on("beforeMove",(e=>{m.addSpinner(),t=e.page,y.getFilms("search",t,s).then((e=>{e.results&&(u(e.results),(0,l.saveDataToLocalStorage)(g,e.results),window.scrollTo({behavior:"smooth",top:0}),m.removeSpinner())}))}))})).catch((e=>console.log(e))).finally(f.reset())}));p=n("fb9GJ"),i=n("cQLOM"),o=n("ezyJp"),_=n("gjiCh"),l=n("iL99u");n("5XOLa");const h="films-data",S=new(0,_.Spinner)(".spinner"),L=document.querySelector("#pagination"),T=new(0,i.default);document.querySelector(".library-page");(0,o.saveGenresToLocalStorage)(),setTimeout((()=>{!async function(){await T.getFilms("trends").then((r=>{if(!r.results)return;(0,l.saveDataToLocalStorage)(h,r.results),u(r.results);const t=new(e(p))(L,{totalItems:`${r.total_results}`,itemsPerPage:20,visiblePages:5,centerAlign:!0});t.reset(r.total_results),t.on("beforeMove",(e=>{S.addSpinner();let r=e.page;T.getFilms("trends",r).then((e=>{e.results&&((0,l.saveDataToLocalStorage)(h,e.results),u(e.results),window.scrollTo({behavior:"smooth",top:0}),S.removeSpinner())}))}))})).catch((e=>console.log(e))).finally()}()}),0),n("9uFi9"),n("cddKH"),n("37v9V"),n("bTcpz"),n("9J6qy"),n("8IhTY"),n("ghT7p");
//# sourceMappingURL=index.5cdb7423.js.map
