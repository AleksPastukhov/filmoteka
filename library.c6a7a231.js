!function(){document.body.onload=function(){setTimeout((()=>{const e=document.querySelector(".preloader");null===e||e.classList.contains("done")||e.classList.add("done")}),1e3)};const e=e=>{try{const t=localStorage.getItem(e);return JSON.parse(t)}catch(e){console.log("Error: ",e.message)}},t={watchedBtn:document.querySelector("button.watched"),queueBtn:document.querySelector("button.queue"),libraryContainer:document.querySelector(".library__container"),libraryList:document.querySelector(".library__list"),emptyLibrary:document.querySelector(".empty-library"),libraryName:document.querySelector("span.library-name")},n=new class{addSpinner(){this.spinner.classList.remove("hidden")}removeSpinner(){this.spinner.classList.add("hidden")}constructor(e){this.spinner=document.querySelector(e)}}(".spinner");function r(){n.addSpinner(),a(t.watchedBtn,t.queueBtn),i("watched"),t.libraryName.textContent="watched",setTimeout((()=>{n.removeSpinner()}),800)}function a(e,t){e.classList.add("is-active"),t.classList.remove("is-active")}function i(t){const r=e(t);n.addSpinner(),r&&emptyLibrary.classList.add("visually-hidden"),n.removeSpinner()}t.watchedBtn.addEventListener("click",r),t.queueBtn.addEventListener("click",(function(){n.addSpinner(),a(t.queueBtn,t.watchedBtn),i("queue"),t.libraryName.textContent="queue",setTimeout((()=>{n.removeSpinner()}),800)})),r();const s={filmGalaryContainer:document.querySelector(".home"),closeModalBtn:document.querySelector(".modal-close"),modal:document.querySelector(".backdrop")};function o(){s.modal.classList.add("visually-hidden"),document.body.style.overflow="auto"}s.filmGalaryContainer.addEventListener("click",(function(e){if(e.preventDefault(),console.log(e.target.classList),!(e.target.classList.contains("library__item")||e.target.classList.contains("library__link")||e.target.classList.contains("library__thumb")||e.target.classList.contains("library__image")||e.target.classList.contains("library__paragraph")||e.target.classList.contains("library__movie")||e.target.classList.contains("library__info")||e.target.classList.contains("library__description")||e.target.classList.contains("library__genres")||e.target.classList.contains("library__year")||e.target.classList.contains("library__rating")))return;s.modal.classList.remove("visually-hidden"),c(),document.body.style.overflow="hidden"})),s.closeModalBtn.addEventListener("click",o);function c(e){window.addEventListener("keydown",(function e(t){if("Escape"!==t.code)return;o(),window.removeEventListener("keydown",e)})),s.modal.addEventListener("click",(function(e){e.currentTarget===e.target&&o()}))}document.querySelector(".home").addEventListener("click",c)}();
//# sourceMappingURL=library.c6a7a231.js.map
