function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},a=r.parcelRequired76b;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var r=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,r){s[e]=r},r.parcelRequired76b=a),a("kyEFX").register(JSON.parse('{"5ZPII":"index.83f90fd1.js","5mK0W":"movie-poster-coming-soon.0dfc56a4.jpg","3mEuC":"library.b4861dd8.css","2ZLMU":"library.d1ac11d4.js"}')),a("dyJsF"),a("gjiCh"),a("iL99u");var n,i=a("cQLOM");n=new URL(a("kyEFX").resolve("5mK0W"),import.meta.url).toString();var l=a("iL99u"),o=a("ezyJp"),d=a("gVtWp");const c=document.querySelector(".cards__list");function u(r){const t=(0,l.getDataFromLocalStorage)(o.DATA_STORAGE),s=r.map((({poster_path:r,title:s,genre_ids:a,id:i,release_date:l,vote_average:o})=>`<li class="library__item" id="${i}">\n        \n        <a href="" class="library__link" aria-label="Movie data"><div class="library__thumb">\n      <img class="library__image" \nsrc="${r?`https://image.tmdb.org/t/p/w500${r}`:e(n)}"  alt="${s}" />\n    </div>\n    <div class="library__paragraph">\n    <h2 class="library__movie">${s}</h2>\n    <ul class="library__info">\n      <li class="library__description">\n        <p class="library__genres">${0===a.length?"No genre":(0,d.getGenresFromId)(a,t)} |</p>\n      </li>\n      <li class="library__description">\n        <p class="library__year">${""!==l&&l?l.slice(0,4):"No date"}</p>\n      </li>\n      <li class="library__description">\n        <p class="library__rating">${o.toFixed(1)}</p>\n      </li>\n    </ul>\n    </div></a>\n    \n</li>`)).join("");c.innerHTML=s}var p=a("fb9GJ"),_=a("gjiCh");l=a("iL99u");const g="films-data",m=new(0,_.Spinner)(".spinner"),v=document.querySelector("#pagination"),f=new(0,i.default),y=document.querySelector(".form__input"),b=document.querySelector(".search__error-text");y.addEventListener("submit",(function(r){r.preventDefault();let t=1;const s=r.currentTarget.searchQuery.value;if(m.addSpinner(),!s)return b.classList.remove("visually-hidden"),setTimeout((()=>{b.classList.add("visually-hidden")}),4500),void m.removeSpinner();f.getFilms("search",t,s).then((r=>{if(0===r.results.length)return b.classList.remove("visually-hidden"),setTimeout((()=>{b.classList.add("visually-hidden")}),4500),void m.removeSpinner();(0,l.saveDataToLocalStorage)(g,r.results),u(r.results),m.removeSpinner();const a=new(e(p))(v,{totalItems:`${r.total_results}`,itemsPerPage:20,visiblePages:5,centerAlign:!0});a.reset(r.total_results),a.on("beforeMove",(e=>{m.addSpinner(),t=e.page,f.getFilms("search",t,s).then((e=>{e.results&&(u(e.results),(0,l.saveDataToLocalStorage)(g,e.results),window.scrollTo({behavior:"smooth",top:0}),m.removeSpinner())}))}))})).catch((e=>console.log(e))).finally(y.reset())}));p=a("fb9GJ"),i=a("cQLOM"),o=a("ezyJp"),_=a("gjiCh"),l=a("iL99u");a("5XOLa");const h="films-data",S=new(0,_.Spinner)(".spinner"),L=document.querySelector("#pagination"),T=new(0,i.default);document.querySelector(".library-page");(0,o.saveGenresToLocalStorage)(),setTimeout((()=>{!async function(){await T.getFilms("trends").then((r=>{if(!r.results)return;(0,l.saveDataToLocalStorage)(h,r.results),u(r.results);const t=new(e(p))(L,{totalItems:`${r.total_results}`,itemsPerPage:20,visiblePages:5,centerAlign:!0});t.reset(r.total_results),t.on("beforeMove",(e=>{S.addSpinner();let r=e.page;T.getFilms("trends",r).then((e=>{e.results&&((0,l.saveDataToLocalStorage)(h,e.results),u(e.results),window.scrollTo({behavior:"smooth",top:0}),S.removeSpinner())}))}))})).catch((e=>console.log(e))).finally()}()}),0),a("9uFi9"),a("cddKH"),a("37v9V"),a("bTcpz"),a("9J6qy"),a("8IhTY"),a("ghT7p");
//# sourceMappingURL=index.83f90fd1.js.map
