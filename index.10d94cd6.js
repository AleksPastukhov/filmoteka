!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},a=r.parcelRequired76b;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var r=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,r){s[e]=r},r.parcelRequired76b=a),a("iE7OH").register(JSON.parse('{"EVgbq":"index.10d94cd6.js","3mDlJ":"movie-poster-coming-soon.0dfc56a4.jpg","3mEuC":"library.b4861dd8.css","vWWEc":"library.87cb9aaf.js"}')),a("go4aK"),a("kvC6y"),a("x2KWZ");var n,l=a("8Mjv6");n=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("3mDlJ");var i=a("x2KWZ"),o=a("twtVq"),c=a("a0r2h");const d=document.querySelector(".cards__list");function u(r){const t=(0,i.getDataFromLocalStorage)(o.DATA_STORAGE),s=r.map((({poster_path:r,title:s,genre_ids:a,id:l,release_date:i,vote_average:o})=>`<li class="library__item" id="${l}">\n        \n        <a href="" class="library__link" aria-label="Movie data"><div class="library__thumb">\n      <img class="library__image" \nsrc="${r?`https://image.tmdb.org/t/p/w500${r}`:e(n)}"  alt="${s}" />\n    </div>\n    <div class="library__paragraph">\n    <h2 class="library__movie">${s}</h2>\n    <ul class="library__info">\n      <li class="library__description">\n        <p class="library__genres">${0===a.length?"No genre":(0,c.getGenresFromId)(a,t)} |</p>\n      </li>\n      <li class="library__description">\n        <p class="library__year">${""!==i&&i?i.slice(0,4):"No date"}</p>\n      </li>\n      <li class="library__description">\n        <p class="library__rating">${o.toFixed(1)}</p>\n      </li>\n    </ul>\n    </div></a>\n    \n</li>`)).join("");d.innerHTML=s}var _=a("1VFfL"),v=a("kvC6y");i=a("x2KWZ");const g="films-data",p=new(0,v.Spinner)(".spinner"),m=document.querySelector("#pagination"),f=new(0,l.default),b=document.querySelector(".form__input"),y=document.querySelector(".search__error-text");b.addEventListener("submit",(function(r){r.preventDefault();let t=1;const s=r.currentTarget.searchQuery.value;if(p.addSpinner(),!s)return y.classList.remove("visually-hidden"),setTimeout((()=>{y.classList.add("visually-hidden")}),4500),void p.removeSpinner();f.getFilms("search",t,s).then((r=>{if(0===r.results.length)return y.classList.remove("visually-hidden"),setTimeout((()=>{y.classList.add("visually-hidden")}),4500),void p.removeSpinner();(0,i.saveDataToLocalStorage)(g,r.results),u(r.results),p.removeSpinner();const a=new(e(_))(m,{totalItems:`${r.total_results}`,itemsPerPage:20,visiblePages:5,centerAlign:!0});a.reset(r.total_results),a.on("beforeMove",(e=>{p.addSpinner(),t=e.page,f.getFilms("search",t,s).then((e=>{e.results&&(u(e.results),(0,i.saveDataToLocalStorage)(g,e.results),window.scrollTo({behavior:"smooth",top:0}),p.removeSpinner())}))}))})).catch((e=>console.log(e))).finally(b.reset())}));_=a("1VFfL"),l=a("8Mjv6"),o=a("twtVq"),v=a("kvC6y"),i=a("x2KWZ");a("2ViF8");const h="films-data",S=new(0,v.Spinner)(".spinner"),w=document.querySelector("#pagination"),T=new(0,l.default);document.querySelector(".library-page");(0,o.saveGenresToLocalStorage)(),setTimeout((()=>{!async function(){await T.getFilms("trends").then((r=>{if(!r.results)return;(0,i.saveDataToLocalStorage)(h,r.results),u(r.results);const t=new(e(_))(w,{totalItems:`${r.total_results}`,itemsPerPage:20,visiblePages:5,centerAlign:!0});t.reset(r.total_results),t.on("beforeMove",(e=>{S.addSpinner();let r=e.page;T.getFilms("trends",r).then((e=>{e.results&&((0,i.saveDataToLocalStorage)(h,e.results),u(e.results),window.scrollTo({behavior:"smooth",top:0}),S.removeSpinner())}))}))})).catch((e=>console.log(e))).finally()}()}),0),a("lWSuo"),a("ivF4K"),a("cDXQO"),a("5xtVg"),a("civ12"),a("aH2sr"),a("32ZrB")}();
//# sourceMappingURL=index.10d94cd6.js.map
